# Загрузка изображений NASA и SpaceX  
Проект предназначен для автоматической загрузки  изображений с API NASA и SpaceX и автоматической отправке этих изображений в телеграмм
## Описание функций  
- Загрузка изображений запуска SpaceX  
- Скачивание ежедневных фотографий программы APOD (Astronomy Picture of the Day) от NASA  
- Скачивание фото Земли из программы EPIC (Earth Polychromatic Imaging Camera)  
- Автоматическая отправка изображений в телеграмм
## Требования  
Python >= 3.7  
Библиотеки:`requests`, `environs`, `python-telegram-bot==13.0`
## Установка  
Клонируйте репозиторий, активируйте виртуальное окружение и установите необходимые зависимости:  
```bash
python -m venv venv
venv\Sripts\activate
pip install -r requirements.txt
```  
Создайте файл `.env` и добавьте туда:  

| Имя переменной | Описание                                                 |
| -------------- | -------------------------------------------------------- |
| NASA_API       | Ключ API для доступа к службам NASA.                     |
| IMAGE_PATH     | Путь к папке с изображениями, используемыми в проекте.   |
| TG_TOKEN       | Токен для доступа к Telegram API                         |
| CHAT_ID        | Идентификатор чата Telegram                              |
| TIME_SLEEP     | Время в часах между отправкой фото(4 часа по  умолчанию) |
```bash
NASA_API=YOUR_NASA_API_KEY
IMAGE_PATH=path_to_images
TG_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
CHAT_ID=YOUR_CHAT_ID_OR_CHANNEL_ID
TIME_SLEEP=4
```
## Запуск  
### Скачивание фото Земли из программы EPIC:  
Для работы скрипта необходимо указать API с сайта NASA в файле `.env`
```bash  
python download_epic_image.py
```  
Фото будут загружены в папку, указанную в файле `.env`  по умолчанию 5 фото, кол-во можно изменить в скрипте 
```python
download_epic_image(path,nasa_api,10)
```
### Загрузка изображений запуска SpaceX:

```bash  
python fetch_spacex_launch.py --launch-id  
```  
Тут необходимо указать id нужного запуска, по умолчанию стоит последний запуск, если в данном запуске фотографий не было консоль выведет:
```
There are not images for this launch.
```
Фото будут загружены в папку, указанную в файле `.env`
### Скачивание ежедневных фотографий программы APOD
Для работы скрипта необходимо указать API с сайта NASA в файле `.env`
```bash
python download_nasa_image.py
```
Фото будут загружены в папку, указанную в файле `.env`  по умолчанию 5 фото, кол-во можно изменить в скрипте 
```python
download_nasa_image(path,nasa_api,10)
```
### Автоматическая отправка изображений в телеграмм
Для работы скрипта необходимо указать токен бота, chat id и время между отправкой сообщений(по умолчанию 4 часа) в файле `env`
```bash
python tg_bot.py
```
Если вдруг все фото из директории `images` опубликованы – он просто начинает публиковать их заново, перемешав фото в случайном порядке.

